<!DOCTYPE html>
<html lang='zh' ><meta charset="utf-8">
<meta name="viewport" content="width=device-width">


<title>ProtoBufåºåˆ—åŒ–åè®® | DamonZhangğŸ”¥</title>

<meta name="generator" content="Hugo Eureka 0.8.3" />
<link rel="stylesheet" href="https://damon-zhangb.github.io/css/eureka.min.css">
<script defer src="https://damon-zhangb.github.io/js/eureka.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/idea.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js"
   crossorigin></script>

  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/dart.min.js"
     crossorigin></script>

  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/Go.min.js"
     crossorigin></script>

<script defer src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js"
   integrity="sha256-uNYoXefWRqv&#43;PsIF/OflNmwtKM4lStn9yrz2gVl6ymo="  crossorigin></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
   integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" 
  integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
   integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>


<script defer src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js" 
  integrity="sha256-Zmpaaj&#43;GXFsPF5WdPArSrnW3b30dovldeKsW00xBVwE="  crossorigin></script>



<meta name="description"
  content="Protocol Buffersï¼ˆç®€ç§°ï¼šProtoBufï¼‰æ˜¯ä¸€ç§åºåˆ—åŒ–æ•°æ®ç»“æ„çš„åè®®ã€‚å¯¹äºé€è¿‡ç®¡é“(pipeline)æˆ–å­˜å‚¨èµ„æ–™è¿›è¡Œé€šä¿¡çš„ç¨‹åºå¼€å‘ä¸Šæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Posts",
      "item":"https://damon-zhangb.github.io/posts/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"ProtoBufåºåˆ—åŒ–åè®®",
      "item":"https://damon-zhangb.github.io/posts/protobuf/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://damon-zhangb.github.io/posts/protobuf/"
    },
    "headline": "ProtoBufåºåˆ—åŒ–åè®® | DamonZhangğŸ”¥","datePublished": "2021-11-01T10:40:18+08:00",
    "dateModified": "2021-11-01T10:40:18+08:00",
    "wordCount":  598 ,
    "author": {
        "@type": "Person",
        "name": "Me"
    },
    "publisher": {
        "@type": "Person",
        "name": "Damon",
        },
    "description": "Protocol Buffersï¼ˆç®€ç§°ï¼šProtoBufï¼‰æ˜¯ä¸€ç§åºåˆ—åŒ–æ•°æ®ç»“æ„çš„åè®®ã€‚å¯¹äºé€è¿‡ç®¡é“(pipeline)æˆ–å­˜å‚¨èµ„æ–™è¿›è¡Œé€šä¿¡çš„ç¨‹åºå¼€å‘ä¸Šæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚"
}
</script><meta property="og:title" content="ProtoBufåºåˆ—åŒ–åè®® | DamonZhangğŸ”¥" />
<meta property="og:type" content="article" />



<meta property="og:url" content="https://damon-zhangb.github.io/posts/protobuf/" />



<meta property="og:description" content="Protocol Buffersï¼ˆç®€ç§°ï¼šProtoBufï¼‰æ˜¯ä¸€ç§åºåˆ—åŒ–æ•°æ®ç»“æ„çš„åè®®ã€‚å¯¹äºé€è¿‡ç®¡é“(pipeline)æˆ–å­˜å‚¨èµ„æ–™è¿›è¡Œé€šä¿¡çš„ç¨‹åºå¼€å‘ä¸Šæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚" />



<meta property="og:locale" content="zh" />




<meta property="og:site_name" content="DamonZhangğŸ”¥" />






<meta property="article:published_time" content="2021-11-01T10:40:18&#43;08:00" />


<meta property="article:modified_time" content="2021-11-01T10:40:18&#43;08:00" />



<meta property="article:section" content="posts" />


<meta property="article:tag" content="åˆ†å¸ƒå¼è®¡ç®—" />





<body class="flex flex-col min-h-screen">
  <header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm">
    <div class="w-full max-w-screen-xl mx-auto"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="/" class="mr-6 text-primary-text text-xl font-bold">DamonZhangğŸ”¥</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/#about" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  mr-4">å…³äºæˆ‘</a>
            <a href="/posts/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  selected-menu-item  mr-4">æ–‡ç« </a>
            <a href="/docs/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  mr-4">æ¡£æ¡ˆ</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka" name="Light">æµ…è‰²</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Dark">æ·±è‰²</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Auto">è‡ªåŠ¨</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', switchDarkMode)
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }

    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script>
</div>
  </header>
  <main class="flex-grow pt-16">
    <div class="pl-scrollbar">
      <div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">


<div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12">
    <div
        class="col-span-2  lg:col-span-6 bg-secondary-bg rounded px-6 py-8">
        <h1 class="font-bold text-3xl text-primary-text">ProtoBufåºåˆ—åŒ–åè®®</h1>
        <div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text">
    <div class="mr-6 my-2">
        <i class="fas fa-calendar mr-1"></i>
        <span>2021-11-01</span>
    </div>
    <div class="mr-6 my-2">
        <i class="fas fa-clock mr-1"></i>
        <span>3åˆ†é’Ÿé˜…è¯»æ—¶é•¿</span>
    </div>
    
    
    <div class="mr-6 my-2">
        <i class="fas fa-folder mr-1"></i>
        
        <a href="https://damon-zhangb.github.io/categories/%E7%90%86%E8%AE%BA/" class="hover:text-eureka">ç†è®º</a>
        
    </div>
    

    
</div>
        
        
        

        <div class="content">
            <h1 id="protobufåºåˆ—åŒ–åè®®">ProtoBufåºåˆ—åŒ–åè®®</h1>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>ç”±äºRPCè¿œç¨‹è°ƒç”¨æ¶‰åŠçš„å‡½æ•°å¯èƒ½éå¸¸ä¹‹è¿œï¼Œè¿œåˆ°å®ƒä»¬ä¹‹é—´è¯´ç€å®Œå…¨ä¸åŒçš„è¯­è¨€ï¼Œè¯­è¨€å°±æˆäº†ä¸¤è¾¹çš„æ²Ÿé€šéšœç¢ã€‚è€Œ<em><strong>Protobuf</strong></em>å› ä¸º<strong>æ”¯æŒå¤šç§ä¸åŒçš„è¯­è¨€</strong>ï¼ˆç”šè‡³ä¸æ”¯æŒçš„è¯­è¨€ä¹Ÿå¯ä»¥æ‰©å±•æ”¯æŒï¼‰ï¼Œå…¶æœ¬èº«ç‰¹æ€§ä¹Ÿéå¸¸æ–¹ä¾¿æè¿°æœåŠ¡çš„æ¥å£ï¼ˆä¹Ÿå°±æ˜¯æ–¹æ³•åˆ—è¡¨ï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆä½œä¸ºRPCä¸–ç•Œçš„<strong>æ¥å£äº¤æµè¯­è¨€</strong>ã€‚</p>
<p><em><strong>Protocol Buffers</strong></em>ï¼ˆç®€ç§°ï¼š<em><strong>ProtoBuf</strong></em>ï¼‰æ˜¯ä¸€ç§<strong>åºåˆ—åŒ–</strong>æ•°æ®ç»“æ„çš„åè®®ã€‚å¯¹äºé€è¿‡ç®¡é“(pipeline)æˆ–å­˜å‚¨èµ„æ–™è¿›è¡Œé€šä¿¡çš„ç¨‹åºå¼€å‘ä¸Šæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¿™ä¸ªæ–¹æ³•åŒ…å«ä¸€ä¸ªæ¥å£æè¿°è¯­è¨€ï¼Œæè¿°ä¸€äº›æ•°æ®ç»“æ„ï¼Œå¹¶æä¾›ç¨‹åºå·¥å…·æ ¹æ®è¿™äº›æè¿°äº§ç”Ÿä»£ç ï¼Œç”¨äºå°†è¿™äº›æ•°æ®ç»“æ„äº§ç”Ÿæˆ–è§£æèµ„æ–™æµã€‚</p>
<h2 id="åºåˆ—åŒ–">åºåˆ—åŒ–</h2>
<p>**åºåˆ—åŒ–(serializationã€marshalling)<strong>çš„è¿‡ç¨‹æ˜¯æŒ‡å°†æ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡çš„çŠ¶æ€è½¬æ¢æˆå¯ä»¥å­˜å‚¨(æ¯”å¦‚æ–‡ä»¶ã€å†…å­˜)æˆ–è€…ä¼ è¾“çš„æ ¼å¼(æ¯”å¦‚ç½‘ç»œ)ã€‚åå‘æ“ä½œå°±æ˜¯</strong>ååºåˆ—åŒ–(deserializationã€unmarshalling)**çš„è¿‡ç¨‹ã€‚</p>
<p>ä¾‹å¦‚<strong>XML</strong>ã€<strong>JSON</strong>ã€<strong>YAML</strong>ç­‰ã€‚</p>
<p><strong>Protobuf</strong>æ”¯æŒå¾ˆå¤šè¯­è¨€ï¼Œæ¯”å¦‚C++ã€C#ã€Dartã€Goã€Javaã€Pythonã€Rustç­‰ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è·¨å¹³å°çš„ï¼Œæ‰€ä»¥å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚</p>
<h2 id="proto3">proto3</h2>
<h3 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­">ä¸€ä¸ªç®€å•çš„ä¾‹å­</h3>
<p>é¦–å…ˆè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­<code>simple.proto</code>:</p>
<pre><code class="language-protobuf">syntax = &quot;proto3&quot;;

message SearchRequest {
  string query = 1;
  int32 page_number = 2;
  int32 result_per_page = 3;
}
</code></pre>
<p>ç¬¬ä¸€è¡ŒæŒ‡å®š<strong>protobuf</strong>çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œæ˜¯ä»¥<code>proto3</code>æ ¼å¼å®šä¹‰ã€‚ä½ è¿˜å¯ä»¥æŒ‡å®šä¸º<code>proto2</code>ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä»¥<code>proto2</code>æ ¼å¼å®šä¹‰ã€‚</p>
<p>å®ƒå®šä¹‰äº†ä¸€ä¸ª<strong>message</strong>ç±»å‹: <code>SearchRequest</code>ï¼Œ å®ƒåŒ…å«ä¸‰ä¸ªå­—æ®µ<code>query</code>ã€<code>page_number</code>ã€<code>result_per_page</code>,å®ƒä¼šè¢«protocç¼–è¯‘æˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€çš„ç›¸åº”å¯¹è±¡ï¼Œæ¯”å¦‚Javaä¸­çš„classã€Goä¸­çš„structç­‰ã€‚</p>
<p>å­—æ®µæ˜¯ä»¥<code>[ repeated ] type fieldName = fieldNumber [ fieldOptions  ] ;</code>æ ¼å¼å®šä¹‰çš„ã€‚è¿™ä¸ªä¾‹å­æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œé‡‡ç”¨äº†<code>type fieldName = fieldNumber</code>æ ¼å¼å®šä¹‰çš„ã€‚</p>
<p>æ¯”å¦‚ç¬¬ä¸€ä¸ªå­—æ®µ<code>query</code>, é¦–å…ˆæ˜¯å®ƒçš„ç±»å‹<code>string</code>ï¼Œå…¶æ¬¡æ˜¯å­—æ®µçš„åç§°ï¼Œç„¶åæ˜¯ç­‰å·<code>=</code>, ä¹‹åæ˜¯å­—æ®µçš„åºå·ï¼Œç„¶åæ˜¯åˆ†å·ã€‚</p>
<p>è¿™æ˜¯æ™®é€šçš„å­—æ®µå®šä¹‰ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›å¤æ‚çš„ä¸€äº›å­—æ®µå®šä¹‰ï¼Œæ¯”å¦‚<code>Oneof</code>ã€<code>Map</code>ã€<code>Reserved</code>ã€<code>enum</code>å®šä¹‰ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å†è¯¦ç»†è®²ã€‚</p>
<p>è¿è¡Œç¼–è¯‘å™¨ï¼ŒæŒ‡å®šæºç›®å½•ï¼ˆåº”ç”¨ç¨‹åºçš„æºä»£ç æ‰€åœ¨çš„åœ°æ–¹â€”â€”å¦‚æœæ‚¨ä¸æä¾›å€¼ï¼Œåˆ™ä½¿ç”¨å½“å‰ç›®å½•ï¼‰ã€ç›®æ ‡ç›®å½•ï¼ˆæ‚¨å¸Œæœ›ç”Ÿæˆçš„ä»£ç å»çš„åœ°æ–¹ï¼›é€šå¸¸ä¸<code>$SRC_DIR</code>ç›¸åŒï¼‰å’Œ<code>.proto</code>çš„è·¯å¾„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†è°ƒç”¨ï¼š</p>
<pre><code class="language-sh">protoc -I=$SRC_DIR --go_out=$DST_DIR $SRC_DIR/addressbook.proto
</code></pre>
<p>å› ä¸ºæ‚¨æƒ³è¦Goä»£ç ï¼Œæ‰€ä»¥æ‚¨ä½¿ç”¨<code>--go_out</code>é€‰é¡¹â€”â€”ä¸ºå…¶ä»–å—æ”¯æŒçš„è¯­è¨€æä¾›äº†ç±»ä¼¼çš„é€‰é¡¹ã€‚</p>
<p>ç”Ÿæˆçš„ä»£ç æˆ‘ä»¬æŒ‡å®šæ”¾åœ¨æœ¬åœ°æ–‡ä»¶å¤¹ä¸­(<code>--go_out=.</code>)ã€‚</p>
<p><em>ç”Ÿæˆçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼Œå®ƒè¿˜åŒ…æ‹¬ä¸€äº›è¾…åŠ©æ–¹æ³•ä»¥åŠ<code>GetXXXX</code>è¯»å–å­—æ®µçš„æ–¹æ³•:</em></p>
<pre><code class="language-go">type SearchRequest struct {
	Query                string   `protobuf:&quot;bytes,1,opt,name=query,proto3&quot; json:&quot;query,omitempty&quot;`
	PageNumber           int32    `protobuf:&quot;varint,2,opt,name=page_number,json=pageNumber,proto3&quot; json:&quot;page_number,omitempty&quot;`
	ResultPerPage        int32    `protobuf:&quot;varint,3,opt,name=result_per_page,json=resultPerPage,proto3&quot; json:&quot;result_per_page,omitempty&quot;`
	XXX_NoUnkeyedLiteral struct{} `json:&quot;-&quot;`
	XXX_unrecognized     []byte   `json:&quot;-&quot;`
	XXX_sizecache        int32    `json:&quot;-&quot;`
}

func (m *SearchRequest) Reset()         { *m = SearchRequest{} }
func (m *SearchRequest) String() string { return proto.CompactTextString(m) }
func (*SearchRequest) ProtoMessage()    {}
func (*SearchRequest) Descriptor() ([]byte, []int) {
	return fileDescriptor_5ffd045dd4d042c1, []int{0}
}
func init() {
	proto.RegisterType((*SearchRequest)(nil), &quot;abc.SearchRequest&quot;)
}
......
</code></pre>
<h3 id="ç‰ˆæœ¬å®šä¹‰">ç‰ˆæœ¬å®šä¹‰</h3>
<p>é¦–å…ˆæˆ‘ä»¬ä¼šå®šä¹‰protoçš„ç‰ˆæœ¬ã€‚</p>
<pre><code class="language-protobuf">syntax = &quot;proto3&quot;;
</code></pre>
<h3 id="å¼•å…¥å…¶å®ƒprotoæ–‡ä»¶">å¼•å…¥å…¶å®ƒprotoæ–‡ä»¶</h3>
<pre><code class="language-protobuf">import  &quot;other.proto&quot;;
import public &quot;other2.proto&quot;;
import weak &quot;other.proto&quot;;
</code></pre>
<p>æˆ‘ä»¬ä¸€èˆ¬å¿½ç•¥<code>public</code>å’Œ<code>weak</code>å…³é”®å­—ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—ä¹Ÿæ²¡æœ‰åœ¨è§„èŒƒä¸­è¯¦ç»†è¿›è¡Œä»‹ç»ã€‚</p>
<h3 id="package">package</h3>
<p>å®šä¹‰protoçš„åŒ…åï¼ŒåŒ…åå¯ä»¥é¿å…å¯¹message ç±»å‹ä¹‹é—´çš„åå­—å†²çªï¼ŒåŒåçš„Messageå¯ä»¥é€šè¿‡packageè¿›è¡ŒåŒºåˆ†ã€‚</p>
<p>åœ¨æ²¡æœ‰ä¸ºç‰¹å®šè¯­è¨€å®šä¹‰<code>option xxx_package</code>çš„æ—¶å€™ï¼Œå®ƒè¿˜å¯ä»¥ç”¨æ¥ç”Ÿæˆç‰¹å®šè¯­è¨€çš„åŒ…åï¼Œæ¯”å¦‚Java package, go packageã€‚</p>
<pre><code class="language-protobuf">package foo.bar;
</code></pre>
<h3 id="option">option</h3>
<p><strong>option</strong>å¯ä»¥ç”¨åœ¨protoçš„scopeä¸­ï¼Œæˆ–è€…messageã€enumã€serviceçš„å®šä¹‰ä¸­ã€‚
å¯ä»¥æ˜¯Protobufå®šä¹‰çš„<strong>option</strong>ï¼Œæˆ–è€…è‡ªå®šä¹‰çš„<strong>option</strong>ã€‚</p>
<p>optionçš„å®šä¹‰æ ¼å¼æ˜¯<code>option optionName = constant ;</code>,æ¯”å¦‚:</p>
<pre><code class="language-protobuf">option java_package = &quot;com.example.foo&quot;;
</code></pre>
<p>ä¸€äº›<strong>Protobuf</strong>å®šä¹‰çš„<strong>option</strong>:</p>
<ul>
<li>java_package</li>
<li>java_multiple_files</li>
<li>java_outer_classname</li>
<li>optimize_for</li>
<li>cc_enable_arenas</li>
<li>objc_class_prefix</li>
<li>deprecated</li>
</ul>
<p>è‡ªå®šä¹‰çš„ä¾‹å­:</p>
<pre><code class="language-protobuf">option (gogoproto.testgen_all) = true;
option (gogoproto.populate_all) = true;
option (gogoproto.benchgen_all) = true;


message NidRepPackedNative {
	repeated double Field1 = 1 [(gogoproto.nullable) = false, packed = true];
	repeated float Field2 = 2 [(gogoproto.nullable) = false, packed = true];
	repeated int32 Field3 = 3 [(gogoproto.nullable) = false, packed = true];
}
</code></pre>
<h3 id="æ™®é€šå­—æ®µ">ğŸŒŸæ™®é€šå­—æ®µ</h3>
<p>å‰é¢è®²è¿‡ï¼Œæ™®é€šå­—æ®µçš„æ ¼å¼ä¸º<code>[ repeated ] type fieldName = fieldNumber [ fieldOptions  ] ;</code></p>
<p><code>repeated</code>å…è®¸å­—æ®µé‡å¤ï¼Œå¯¹äºGoè¯­è¨€æ¥è¯´ï¼Œå®ƒä¼šç¼–è¯‘æˆæ•°ç»„(<code>slice of type</code>)ç±»å‹çš„æ ¼å¼.</p>
<p><em>ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«å„ç§ç±»å‹(Scalar Value Types)çš„protoæ–‡ä»¶ã€‚</em></p>
<p><em>å…¶ä¸­ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</em></p>
<ul>
<li>
<p>æ•°å­—ç±»å‹ï¼š doubleã€floatã€int32ã€int64ã€uint32ã€uint64ã€sint32ã€sint64: å­˜å‚¨é•¿åº¦å¯å˜çš„æµ®ç‚¹æ•°ã€æ•´æ•°ã€æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°</p>
</li>
<li>
<p>å­˜å‚¨å›ºå®šå¤§å°çš„æ•°å­—ç±»å‹ï¼šfixed32ã€fixed64ã€sfixed32ã€sfixed64: å­˜å‚¨ç©ºé—´å›ºå®š</p>
</li>
<li>
<p>å¸ƒå°”ç±»å‹: bool</p>
</li>
<li>
<p>å­—ç¬¦ä¸²: string</p>
</li>
<li>
<p>bytes: å­—èŠ‚æ•°ç»„</p>
</li>
<li>
<p>messageType: æ¶ˆæ¯ç±»å‹</p>
</li>
<li>
<p>enumType:æšä¸¾ç±»å‹</p>
<p>å­—æ®µåã€æ¶ˆæ¯åã€æšä¸¾ç±»å‹åã€mapåã€æœåŠ¡åç­‰åç§°é¦–å­—æ¯å¿…é¡»æ˜¯å­—æ¯ç±»å‹ï¼Œç„¶åå¯ä»¥æ˜¯å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿_ã€‚</p>
</li>
</ul>
<pre><code class="language-protobuf">message AlLNormalypes {
    double fieldl = 1:
    float field2 = 2;
    int32 field3 = 3;
    int64 field4 = 4;
    uint32 field5 = 5;
    uint64 field6 = 6;
    sint32 field7 = 7:
    sint64 field8 = 8:
    fixed32 field9 = 9;
    fixed64 field10 = 10;
    sfixed32 field11 = 11:
    sfixed64 field12 = 12;
    bool field13 = 13:
    string field14 = 14;
    bytes field15 = 15:
}
</code></pre>
<h3 id="oneof">Oneof</h3>
<p>å¦‚æœä½ æœ‰ä¸€ç»„å­—æ®µï¼ŒåŒæ—¶æœ€å¤šå…è®¸è¿™ä¸€ç»„ä¸­çš„ä¸€ä¸ªå­—æ®µå‡ºç°ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>Oneof</code>å®šä¹‰è¿™ä¸€ç»„å­—æ®µï¼Œè¿™æœ‰ç‚¹Unionçš„æ„æ€ï¼Œä½†æ˜¯Oneofå…è®¸ä½ è®¾ç½®é›¶å„å€¼ã€‚</p>
<p>å› ä¸ºproto3æ²¡æœ‰åŠæ³•åŒºåˆ†æ­£å¸¸çš„å€¼æ˜¯å¦æ˜¯è®¾ç½®äº†è¿˜æ˜¯å–å¾—ç¼ºçœå€¼(æ¯”å¦‚int64ç±»å‹å­—æ®µï¼Œå¦‚æœå®ƒçš„å€¼æ˜¯0ï¼Œä½ æ— æ³•åˆ¤æ–­æ•°æ®æ˜¯å¦åŒ…å«è¿™ä¸ªå­—æ®µï¼Œå› ä¸º0å‡ å¯èƒ½æ˜¯æ•°æ®ä¸­è®¾ç½®çš„å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯è¿™ä¸ªå­—æ®µçš„é›¶å€¼)ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡Oneofå–å¾—è¿™ä¸ªåŠŸèƒ½ï¼Œå› ä¸ºOneofæœ‰åˆ¤æ–­å­—æ®µæ˜¯å¦è®¾ç½®çš„åŠŸèƒ½ã€‚</p>
<pre><code class="language-protobuf">syntax = &quot;proto3&quot;;
package abc;
message OneofMessage {
    oneof test_oneof {
      string name = 4;
      int64 value = 9;
    }
  }
</code></pre>
<p>oneof<code>å­—æ®µä¸èƒ½åŒæ—¶ä½¿ç”¨</code>repeated.</p>
<h3 id="mapç±»å‹">mapç±»å‹</h3>
<p>mapç±»å‹éœ€è¦è®¾ç½®é”®å’Œå€¼çš„ç±»å‹ï¼Œæ ¼å¼æ˜¯<code>map &lt; keyType , type &gt; mapName = fieldNumber [ fieldOptions ]</code>ã€‚</p>
<pre><code class="language-protobuf">map&lt;int64,string&gt; values = 1;
</code></pre>
<p><code>map</code>å­—æ®µä¸èƒ½åŒæ—¶ä½¿ç”¨<code>repeated</code>ã€‚</p>
<h3 id="reserved">Reserved</h3>
<p>Reservedå¯ä»¥ç”¨æ¥æŒ‡æ˜æ­¤messageä¸ä½¿ç”¨æŸäº›å­—æ®µï¼Œä¹Ÿå°±æ˜¯å¿½ç•¥è¿™äº›å­—æ®µã€‚</p>
<p>å¯ä»¥é€šè¿‡å­—æ®µç¼–å·èŒƒå›´æˆ–è€…å­—æ®µåç§°æŒ‡å®šä¿ç•™çš„å­—æ®µï¼š</p>
<pre><code class="language-protobuf">syntax = &quot;proto3&quot;;

package abc;

message AllNormalypes {
  reserved 2, 4 to 6;
  reserved &quot;field14&quot;, &quot;field11&quot;;
  double field1 = 1;
  // float field2 = 2;
  int32 field3 = 3;
  // int64 field4 = 4;
  // uint32 field5 = 5;
  // uint64 field6 = 6;
  sint32 field7 = 7;
  sint64 field8 = 8;
  fixed32 field9 = 9;
  fixed64 field10 = 10;
  // sfixed32 field11 = 11;
  sfixed64 field12 = 12;
  bool field13 = 13;
  // string field14 = 14;
  bytes field15 = 15;
}
</code></pre>
<p>å£°æ˜ä¿ç•™çš„å­—æ®µä½ å°±ä¸è¦å†å®šä¹‰äº†ï¼Œå¦åˆ™ç¼–è¯‘çš„æ—¶å€™ä¼šå‡ºé”™ã€‚</p>
<h3 id="æšä¸¾ç±»å‹">ğŸŒŸæšä¸¾ç±»å‹</h3>
<p>æšä¸¾ç±»å‹ä¹Ÿæ˜¯å¸¸ç”¨çš„ä¸€ç§ç±»å‹ï¼Œå®ƒé™å®šå­—æ®µçš„å€¼åªèƒ½å–æŸä¸ªç‰¹å®šçš„å€¼ï¼Œæ¯”å¦‚æ˜ŸæœŸç±»å‹åªèƒ½å–å‘¨ä¸€åˆ°å‘¨æ—¥ä¸ƒä¸ªå€¼ã€‚</p>
<p>æ³¨æ„æšä¸¾ç±»å‹çš„å®šä¹‰é‡‡ç”¨C++ scopingè§„åˆ™ï¼Œä¹Ÿå°±æ˜¯æšä¸¾å€¼æ˜¯æšä¸¾ç±»å‹çš„å…„å¼Ÿç±»å‹ï¼Œè€Œä¸æ˜¯å­ç±»å‹ï¼Œæ‰€ä»¥é¿å…åœ¨åŒä¸€ä¸ªpackageå®šä¹‰é‡åçš„æšä¸¾å­—æ®µã€‚</p>
<pre><code class="language-protobuf">enum PushMsgType {
  BORN = 0;        // 0å‡ºç”Ÿ
  SURVIVE = 1;     // 1å­˜æ´»--è‡ªç”±ç§»åŠ¨
  MOVE = 2;        // 2ç§»åŠ¨
  DEATH = 3;       // 3æ­»äº¡
  FRESH = 4;       // 4åˆ°æ—¶åˆ·æ–°
  FATHERDEATH = 5; // 5è·Ÿéšbossæ­»äº¡
  Arrivals = 6;    // 6ç§»åŠ¨è¾¾åˆ°
  FATHERFRESH = 7; // 7è·Ÿéšbossåˆ·æ–°
}
</code></pre>
<h2 id="protubufç»“åˆrpc">Protubufç»“åˆrpc</h2>
<p>è¿™é‡Œæˆ‘ä»¬å°è¯•å°†<strong>Protobuf</strong>å’Œ<strong>RPC</strong>ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œé€šè¿‡Protobufæ¥<strong>æœ€ç»ˆ</strong>ä¿è¯<strong>RPC</strong>çš„æ¥å£è§„èŒƒå’Œå®‰å…¨ã€‚Protobufä¸­æœ€åŸºæœ¬çš„æ•°æ®å•å…ƒæ˜¯<strong>message</strong>ï¼Œæ˜¯ç±»ä¼¼<strong>Go</strong>è¯­è¨€ä¸­ç»“æ„ä½“çš„å­˜åœ¨ã€‚åœ¨<strong>message</strong>ä¸­å¯ä»¥åµŒå¥—<strong>message</strong>æˆ–å…¶å®ƒçš„åŸºç¡€æ•°æ®ç±»å‹çš„æˆå‘˜ã€‚</p>
<p><em>é¦–å…ˆåˆ›å»ºhello.protoæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…è£…HelloServiceæœåŠ¡ä¸­ç”¨åˆ°çš„å­—ç¬¦ä¸²ç±»å‹:</em></p>
<pre><code class="language-protobuf">syntax = &quot;proto3&quot;;

package main;

message String {
    string value = 1;
}
</code></pre>
<p>å¼€å¤´çš„<strong>syntax</strong>è¯­å¥è¡¨ç¤ºé‡‡ç”¨proto3çš„è¯­æ³•ã€‚ç¬¬ä¸‰ç‰ˆçš„Protobufå¯¹è¯­è¨€è¿›è¡Œäº†æç‚¼ç®€åŒ–ï¼Œæ‰€æœ‰æˆå‘˜å‡é‡‡ç”¨ç±»ä¼¼Goè¯­è¨€ä¸­çš„é›¶å€¼åˆå§‹åŒ–ï¼ˆä¸å†æ”¯æŒè‡ªå®šä¹‰é»˜è®¤å€¼ï¼‰ï¼Œå› æ­¤æ¶ˆæ¯æˆå‘˜ä¹Ÿä¸å†éœ€è¦æ”¯æŒ<strong>required</strong>ç‰¹æ€§ã€‚ç„¶å<strong>package</strong>æŒ‡ä»¤æŒ‡æ˜å½“å‰æ˜¯<strong>main</strong>åŒ…ï¼ˆè¿™æ ·å¯ä»¥å’ŒGoçš„åŒ…åä¿æŒä¸€è‡´ï¼Œç®€åŒ–ä¾‹å­ä»£ç ï¼‰ï¼Œå½“ç„¶ç”¨æˆ·ä¹Ÿå¯ä»¥é’ˆå¯¹ä¸åŒçš„è¯­è¨€å®šåˆ¶å¯¹åº”çš„åŒ…è·¯å¾„å’Œåç§°ã€‚æœ€å<strong>message</strong>å…³é”®å­—å®šä¹‰ä¸€ä¸ªæ–°çš„<strong>String</strong>ç±»å‹ï¼Œåœ¨æœ€ç»ˆç”Ÿæˆçš„Goè¯­è¨€ä»£ç ä¸­å¯¹åº”ä¸€ä¸ª<strong>String</strong>ç»“æ„ä½“ã€‚<strong>String</strong>ç±»å‹ä¸­åªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„<strong>value</strong>æˆå‘˜ï¼Œè¯¥æˆå‘˜ç¼–ç æ—¶ç”¨1ç¼–å·ä»£æ›¿åå­—ã€‚</p>
<p>åœ¨<strong>XML</strong>æˆ–<strong>JSON</strong>ç­‰æ•°æ®æè¿°è¯­è¨€ä¸­ï¼Œä¸€èˆ¬é€šè¿‡æˆå‘˜çš„åå­—æ¥ç»‘å®šå¯¹åº”çš„æ•°æ®ã€‚ä½†æ˜¯<strong>Protobuf</strong>ç¼–ç å´æ˜¯é€šè¿‡<em><strong>æˆå‘˜çš„å”¯ä¸€ç¼–å·</strong></em>æ¥ç»‘å®šå¯¹åº”çš„æ•°æ®ï¼Œå› æ­¤<strong>Protobuf</strong>ç¼–ç åæ•°æ®çš„ä½“ç§¯ä¼šæ¯”è¾ƒå°ï¼Œä½†æ˜¯ä¹Ÿéå¸¸ä¸ä¾¿äºäººç±»æŸ¥é˜…ã€‚æˆ‘ä»¬ç›®å‰å¹¶ä¸å…³æ³¨Protobufçš„ç¼–ç æŠ€æœ¯ï¼Œæœ€ç»ˆç”Ÿæˆçš„Goç»“æ„ä½“å¯ä»¥è‡ªç”±é‡‡ç”¨JSONæˆ–gobç­‰ç¼–ç æ ¼å¼ï¼Œå› æ­¤å¤§å®¶å¯ä»¥æš‚æ—¶å¿½ç•¥Protobufçš„æˆå‘˜ç¼–ç éƒ¨åˆ†ã€‚</p>
<p><em>è¿™é‡Œåªç”Ÿæˆäº†ä¸€ä¸ªhello.pb.goæ–‡ä»¶ï¼Œå…¶ä¸­Stringç»“æ„ä½“å†…å®¹å¦‚ä¸‹ï¼š</em></p>
<pre><code class="language-go">type String struct {
    Value string `protobuf:&quot;bytes,1,opt,name=value&quot; json:&quot;value,omitempty&quot;`
}

func (m *String) Reset()         { *m = String{} }
func (m *String) String() string { return proto.CompactTextString(m) }
func (*String) ProtoMessage()    {}
func (*String) Descriptor() ([]byte, []int) {
    return fileDescriptor_hello_069698f99dd8f029, []int{0}
}

func (m *String) GetValue() string {
    if m != nil {
        return m.Value
    }
    return &quot;&quot;
}
</code></pre>
<p>ç”Ÿæˆçš„ç»“æ„ä½“ä¸­è¿˜ä¼šåŒ…å«ä¸€äº›ä»¥<code>XXX_</code>ä¸ºåå­—å‰ç¼€çš„æˆå‘˜ï¼Œæˆ‘ä»¬å·²ç»éšè—äº†è¿™äº›æˆå‘˜ã€‚åŒæ—¶Stringç±»å‹è¿˜è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ç»„æ–¹æ³•ï¼Œå…¶ä¸­<strong>ProtoMessage</strong>æ–¹æ³•è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå®ç°äº†<strong>proto.Message</strong>æ¥å£çš„æ–¹æ³•ã€‚æ­¤å¤–<strong>Protobuf</strong>è¿˜ä¸ºæ¯ä¸ªæˆå‘˜ç”Ÿæˆäº†ä¸€ä¸ªGetæ–¹æ³•ï¼ŒGetæ–¹æ³•ä¸ä»…å¯ä»¥å¤„ç†ç©ºæŒ‡é’ˆç±»å‹ï¼Œè€Œä¸”å¯ä»¥å’Œ<strong>Protobuf</strong>ç¬¬äºŒç‰ˆçš„æ–¹æ³•ä¿æŒä¸€è‡´ï¼ˆç¬¬äºŒç‰ˆçš„è‡ªå®šä¹‰é»˜è®¤å€¼ç‰¹æ€§ä¾èµ–è¿™ç±»æ–¹æ³•ï¼‰ã€‚</p>
<p><em>åŸºäºæ–°çš„Stringç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°å®ç°HelloServiceæœåŠ¡ï¼š</em></p>
<pre><code class="language-go">type HelloService struct{}

func (p *HelloService) Hello(request *String, reply *String) error {
    reply.Value = &quot;hello:&quot; + request.GetValue()
    return nil
}
</code></pre>
<p>å…¶ä¸­Helloæ–¹æ³•çš„è¾“å…¥å‚æ•°å’Œè¾“å‡ºçš„å‚æ•°å‡æ”¹ç”¨<strong>Protobuf</strong>å®šä¹‰çš„Stringç±»å‹è¡¨ç¤ºã€‚å› ä¸ºæ–°çš„è¾“å…¥å‚æ•°ä¸ºç»“æ„ä½“ç±»å‹ï¼Œå› æ­¤æ”¹ç”¨æŒ‡é’ˆç±»å‹ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œå‡½æ•°çš„å†…éƒ¨ä»£ç åŒæ—¶ä¹Ÿåšäº†ç›¸åº”çš„è°ƒæ•´ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åˆæ­¥å®ç°äº†Protobufå’ŒRPCç»„åˆå·¥ä½œã€‚åœ¨å¯åŠ¨RPCæœåŠ¡æ—¶ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥é€‰æ‹©é»˜è®¤çš„gobæˆ–æ‰‹å·¥æŒ‡å®šjsonç¼–ç ï¼Œç”šè‡³å¯ä»¥é‡æ–°åŸºäºprotobufç¼–ç å®ç°ä¸€ä¸ªæ’ä»¶ã€‚è™½ç„¶åšäº†è¿™ä¹ˆå¤šå·¥ä½œï¼Œä½†æ˜¯ä¼¼ä¹å¹¶æ²¡æœ‰çœ‹åˆ°ä»€ä¹ˆæ”¶ç›Šï¼</p>

        </div>
        
        <div class="my-4">
    
    <a href="https://damon-zhangb.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#åˆ†å¸ƒå¼è®¡ç®—</a>
    
</div>
        
        
        


        
        
        <div class="py-2">
    
    <div class="flex flex-col md:flex-row items-center my-8">
        <a href="https://damon-zhangb.github.io/authors/me/" class="w-24 h-24 md:mr-4">
            
            
            <img src="https://damon-zhangb.github.io/android-chrome-512x512.png" class="w-full bg-primary-bg rounded-full" alt="Avatar">
            
        </a>
        <div class="w-full md:w-auto mt-4 md:mt-0">
            <a href="https://damon-zhangb.github.io/authors/me/" class="block font-bold text-lg pb-1 mb-2 border-b">Zhang Bu</a>
            <span class="block pb-2">Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos.</span>
            
            
            
            
            
            <a href="mailto:example@example.com" class="mr-1">
                <i class="fab fa-fab fa-weixin"></i>
            </a>
            
            
            
            
            
            <a href="https://example.com/" class="mr-1">
                <i class="fab fa-fab fa-qq"></i>
            </a>
            
            
            
            
            
            <a href="https://example.com/" class="mr-1">
                <i class="fab fa-github"></i>
            </a>
            
            
            
            
            
            <a href="https://example.com/" class="mr-1">
                <i class="fab fa-fab fa-zhihu"></i>
            </a>
            
        </div>
    </div>
    
</div>
        
        
        
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
    <div>
        
    </div>
    <div class="md:text-right mt-4 md:mt-0">
        
        <span class="block font-bold">ä¸‹ä¸€é¡µ</span>
        <a href="https://damon-zhangb.github.io/posts/rpc1/" class="block">RPCè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆ1ï¼‰</a>
        
    </div>
</div>

        



    </div>
    
    <div class="col-span-2">
        
        
        <div class="sticky top-16 z-10 hidden lg:block px-6 py-4  bg-primary-bg ">
    <span class="text-lg font-semibold">æœ¬é¡µå†…å®¹</span>
</div>
<div class="sticky-toc hidden lg:block px-6 pb-6 ">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ç®€ä»‹">ç®€ä»‹</a></li>
    <li><a href="#åºåˆ—åŒ–">åºåˆ—åŒ–</a></li>
    <li><a href="#proto3">proto3</a>
      <ul>
        <li><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­">ä¸€ä¸ªç®€å•çš„ä¾‹å­</a></li>
        <li><a href="#ç‰ˆæœ¬å®šä¹‰">ç‰ˆæœ¬å®šä¹‰</a></li>
        <li><a href="#å¼•å…¥å…¶å®ƒprotoæ–‡ä»¶">å¼•å…¥å…¶å®ƒprotoæ–‡ä»¶</a></li>
        <li><a href="#package">package</a></li>
        <li><a href="#option">option</a></li>
        <li><a href="#æ™®é€šå­—æ®µ">ğŸŒŸæ™®é€šå­—æ®µ</a></li>
        <li><a href="#oneof">Oneof</a></li>
        <li><a href="#mapç±»å‹">mapç±»å‹</a></li>
        <li><a href="#reserved">Reserved</a></li>
        <li><a href="#æšä¸¾ç±»å‹">ğŸŒŸæšä¸¾ç±»å‹</a></li>
      </ul>
    </li>
    <li><a href="#protubufç»“åˆrpc">Protubufç»“åˆrpc</a></li>
  </ul>
</nav>
</div>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        enableStickyToc();
    });
</script>
        
    </div>
    

    
    
</div>
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        hljs.initHighlightingOnLoad();
    })
</script>

      </div>
    </div>
    
  </main>
  <footer class="pl-scrollbar">
    <div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2021 <a href="https://github.com/Damon-Zhangb">Damon.Zhang</a>
 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
  </footer>
</body>

</html>